import moment from 'moment-timezone';
import fs from 'fs';
import os from 'os';
import pkg, { prepareWAMessageMedia } from '@whiskeysockets/baileys';
const { generateWAMessageFromContent, proto } = pkg;
import config from '../../config.cjs';

const alive = async (m, sock) => {
  const prefix = config.PREFIX;
  const mode = config.MODE;
  const pushName = m.pushName || 'User';

  const cmd = m.body.startsWith(prefix)
    ? m.body.slice(prefix.length).split(' ')[0].toLowerCase()
    : '';

  if (cmd === "menu") {
    await m.React('â³'); // React with a loading icon
    // Calculate uptime

    const uptimeSeconds = process.uptime();
    const days = Math.floor(uptimeSeconds / (24 * 3600));
    const hours = Math.floor((uptimeSeconds % (24 * 3600)) / 3600);
    const minutes = Math.floor((uptimeSeconds % 3600) / 60);
    const seconds = Math.floor(uptimeSeconds % 60);

    
    // Get real time
    const realTime = moment().tz("Asia/Karachi").format("HH:mm:ss");
    const xtime = moment.tz("Asia/Karachi").format("HH:mm:ss");
    const xdate = moment.tz("Asia/Karachi").format("DD/MM/YYYY");
    const time2 = moment().tz("Asia/Karachi").format("HH:mm:ss");
let pushwish = "";

if (time2 < "05:00:00") {
  pushwish = `Good Morning ğŸŒ„`;
} else if (time2 < "11:00:00") {
  pushwish = `Good Morning ğŸŒ„`;
} else if (time2 < "15:00:00") {
  pushwish = `Good Afternoon ğŸŒ…`;
} else if (time2 < "18:00:00") {
  pushwish = `Good Evening ğŸŒƒ`;
} else if (time2 < "19:00:00") {
  pushwish = `Good Evening ğŸŒƒ`;
} else {
  pushwish = `Good Night ğŸŒŒ`;
}

    const aliveMessage = `â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â‡†ğ‡ğ„ğ‹ğ‹ğ ğŒğ‘â‡†*
          *${pushName}* _${pushwish}_
*â‡† âœ¨ ğÊ™Éªá´›á´-ğŒá´… ğ‚á´á´á´á´€É´á´… ğ‹Éªsá´› âœ¨ â‡†*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢* 
*â”‚  â—¦*  Ê™á´á´› É´á´€á´á´‡: ğÊ™Éªá´›á´-ğŒá´…
*â”‚  â—¦* á´ á´‡Ê€sÉªá´É´: 1ğš‚ğšƒ
*â”‚  â—¦* á´…á´‡á´ : á´Ê€.xá´…-ğŒá´€É´á´á´Š ğ—á´…
*â”‚  â—¦* á´˜Ê€á´‡Ò“Éªx: *${prefix}*
*â”‚  â—¦* á´á´á´…á´‡: *${mode}*
*â”‚  â—¦* á´œá´˜á´›Éªá´á´‡: *${days}d ${hours}h ${minutes}m ${seconds}s*
*â”‚  â—¦* á´„á´œÊ€Ê€á´‡É´á´› á´›Éªá´á´‡: *${realTime}*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â™¡ï¸â€¢â”â”â”â”â”â”â˜»ï¸â”â”â”â”â”â”â€¢â™¡ï¸*
*[ â€¢ â˜ªï¸ ÉªsÊŸá´€á´Éªá´„ á´„á´á´… â˜ªï¸ â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*â˜ªï¸ *${prefix}ğğ”ğ‘ğ€ğğ•ğˆğƒğ„ğ*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢ ğŸ¤´ á´á´¡É´á´‡Ê€ á´„á´á´…ğŸ¤´ â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*ğŸ‘‘ *${prefix}ğğ‹ğğ‚ğŠ*
*â”‹*ğŸ‘‘ *${prefix}ğ”ğğğ‹ğğ‚ğŠ*
*â”‹*ğŸ‘‘ *${prefix}ğ‰ğğˆğ*
*â”‹*ğŸ‘‘ *${prefix}ğ‹ğ„ğ€ğ•ğ„*
*â”‹*ğŸ‘‘ *${prefix}ğ’ğ„ğ“ğ•ğ€ğ‘*
*â”‹*ğŸ‘‘ *${prefix}ğ‘ğ„ğ’ğ“ğ€ğ‘ğ“*
*â”‹*ğŸ‘‘ *${prefix}ğ’ğ„ğ“ğğ*
*â”‹*ğŸ‘‘ *${prefix}ğ’ğ‡ğ”ğ“ğƒğğ–ğ*
*â”‹*ğŸ‘‘ *${prefix}ğ‚ğğğˆğğ† ğ’ğğğ*
*â”‹*ğŸ‘‘ *${prefix}ğ‚ğğğˆğğ† ğ’ğğğ*
*â”‹*ğŸ‘‘ *${prefix}ğ‚ğğğˆğğ† ğ’ğğğ*
*â”‹*ğŸ‘‘ *${prefix}ğ‚ğğğˆğğ† ğ’ğğğ*
*â”‹*ğŸ‘‘ *${prefix}ğ‚ğğğˆğğ† ğ’ğğğ*
*â”‹*ğŸ‘‘ *${prefix}ğ‚ğğğˆğğ† ğ’ğğğ*
*â”‹*ğŸ‘‘ *${prefix}ğ‚ğğğˆğğ† ğ’ğğğ*
*â”‹*ğŸ‘‘ *${prefix}ğ‚ğğğˆğğ† ğ’ğğğ*
*â”‹*ğŸ‘‘ *${prefix}ğ‚ğğğˆğğ† ğ’ğğğ*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢ ğŸ” sá´‡á´€Ê€á´„Êœ á´„á´á´… ğŸ” â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*ğŸ” *${prefix}ğ˜ğ“ğ’*
*â”‹*ğŸ” *${prefix}ğ†ğğğ†ğ‹ğ„*
*â”‹*ğŸ” *${prefix}ğˆğŒğƒğ*
*â”‹*ğŸ” *${prefix}ğˆğŒğ†*
*â”‹*ğŸ” *${prefix}ğ–ğ„ğ€ğ“ğ‡ğ„ğ‘*
*â”‹*ğŸ” *${prefix}ğğ‹ğ€ğ˜ğ’ğ“ğğ‘ğ„*
*â”‹*ğŸ” *${prefix}ğğ„ğ–ğ’*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢ ğŸ§  á´€Éª á´„á´á´… ğŸ§   â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*ğŸ§  *${prefix}ğğ‹ğ€ğ‚ğŠğğğ—ğ€ğˆ*
*â”‹*ğŸ§  *${prefix}ğ†ğğ“*
*â”‹*ğŸ§  *${prefix}ğ•ğˆğ’ğˆğ“*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢ ğŸ“¥ á´…á´á´¡É´ÊŸá´á´€á´…á´‡Ê€ á´„á´á´… ğŸ“¥ â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*â¬ï¸ *${prefix}ğ…ğ*
*â”‹*â¬ï¸ *${prefix}ğˆğğ’ğ“ğ€*
*â”‹*â¬ï¸ *${prefix}ğ•ğˆğƒğ„ğ*
*â”‹*â¬ï¸ *${prefix}ğ†ğƒğ‘ğˆğ•ğ„*
*â”‹*â¬ï¸ *${prefix}ğ“ğ–ğˆğ“ğ“ğ„ğ‘*
*â”‹*â¬ï¸ *${prefix}ğ“ğˆğŠğ“ğğŠ*
*â”‹*â¬ï¸ *${prefix}ğŒğ„ğƒğˆğ€ğ…ğˆğ‘ğ„*
*â”‹*â¬ï¸ *${prefix}ğ’ğğğ†*
*â”‹*â¬ï¸ *${prefix}ğ•ğˆğƒğ„ğ*
*â”‹*â¬ï¸ *${prefix}ğ€ğğŠ*
*â”‹*â¬ï¸ *${prefix}ğ“ğ“ğ€ğ”ğƒğˆğ*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢ ğŸš» É¢Ê€á´á´œá´˜ á´„á´á´… ğŸš» â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*â›”ï¸ *${prefix}ğƒğ„ğ‹ <Ê€á´‡á´˜ÊŸÊ Ò“á´Ê€ á´…á´‡ÊŸá´‡á´›á´‡ sá´s>*
*â”‹*ğŸ¤ *${prefix}ğ€ğƒğƒ*
*â”‹*ğŸ¦µ *${prefix}ğŠğˆğ‚ğŠ*
*â”‹*ğŸ¤— *${prefix}ğ–ğ„ğ‹ğ‚ğğŒğ„ ğğ*
*â”‹*ğŸ¤— *${prefix}ğ–ğ„ğ‹ğ‚ğğŒğ„ ğğ…ğ…*
*â”‹*ğŸ«… *${prefix}ğğ‘ğğŒğğ“ğ„*
*â”‹*ğŸ¤µ *${prefix}ğƒğ„ğŒğğ“ğ„*
*â”‹*ğŸ³ *${prefix}ğ“ğ€ğ†ğ€ğ‹ğ‹*
*â”‹*ğŸ“› *${prefix}ğ‡ğˆğƒğ„ğ“ğ€ğ†*
*â”‹*â™»ï¸ *${prefix}ğˆğğ•ğˆğ“ğ„*
*â”‹*ğŸ”‡ *${prefix}ğŒğ”ğ“ğ„*
*â”‹*ğŸ”Š *${prefix}ğ”ğğŒğ”ğ“ğ„*
*â”‹*ğŸ”’ *${prefix}ğ†ğ‘ğğ”ğ ğğğ„ğ*
*â”‹*ğŸ”“ *${prefix}ğ†ğ‘ğğ”ğ ğ‚ğ‹ğğ’ğ„*
*â”‹*ğŸ˜ *${prefix}ğ‹ğ„ğ€ğ•ğ„*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢ ğŸ™ï¸ á´€á´œá´…Éªá´ á´„á´á´…ğŸ™ï¸ â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*ğŸ™ï¸ *${prefix}ğƒğ„ğ„ğ*
*â”‹*ğŸ™ï¸ *${prefix}ğğ€ğ’ğ’*
*â”‹*ğŸ™ï¸ *${prefix}ğ‘ğğğğ“*
*â”‹*ğŸ™ï¸ *${prefix}ğ‘ğ„ğ•ğ„ğ‘ğ’ğ„*
*â”‹*ğŸ™ï¸ *${prefix}ğ’ğ‹ğğ–*
*â”‹*ğŸ™ï¸ *${prefix}ğ’ğŒğğğ“ğ‡*
*â”‹*ğŸ™ï¸ *${prefix}ğğˆğ†ğ‡ğ“ğ‚ğğ‘ğ„*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢ â˜£ sá´›Éªá´„á´‹á´‡Ê€á´„ á´„á´á´…â˜£ â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*â˜£ *${prefix}ğƒğ€ğğ‚ğ„*
*â”‹*â˜£ *${prefix}ğğğŠğ„*
*â”‹*â˜£ *${prefix}ğ–ğˆğğŠ*
*â”‹*â˜£ *${prefix}ğ‡ğ€ğğğ˜*
*â”‹*â˜£ *${prefix}ğŠğˆğ‚ğŠ*
*â”‹*â˜£ *${prefix}ğŠğˆğ‹ğ‹*
*â”‹*â˜£ *${prefix}ğ’ğ‹ğ€ğ*
*â”‹*â˜£ *${prefix}ğğˆğ“ğ„*
*â”‹*â˜£ *${prefix}ğğğŒ*
*â”‹*â˜£ *${prefix}ğ‡ğˆğ†ğ‡ğ…ğˆğ•ğ„*
*â”‹*â˜£ *${prefix}ğ–ğ€ğ•ğ„*
*â”‹*â˜£ *${prefix}ğ’ğŒğˆğ‹ğ„*
*â”‹*â˜£ *${prefix}ğğ‹ğ”ğ’ğ‡*
*â”‹*â˜£ *${prefix}ğ˜ğ„ğ„ğ“*
*â”‹*â˜£ *${prefix}ğğğğŠ*
*â”‹*â˜£ *${prefix}ğ’ğŒğ”ğ†*
*â”‹*â˜£ *${prefix}ğğ€ğ“*
*â”‹*â˜£ *${prefix}ğ‹ğˆğ‚ğŠ*
*â”‹*â˜£ *${prefix}ğŠğˆğ’ğ’*
*â”‹*â˜£ *${prefix}ğ€ğ–ğğ*
*â”‹*â˜£ *${prefix}ğ‡ğ”ğ†*
*â”‹*â˜£ *${prefix}ğ‚ğ‘ğ˜*
*â”‹*â˜£ *${prefix}ğ‚ğ”ğƒğƒğ‹ğ„*
*â”‹*â˜£ *${prefix}ğğ”ğ‹ğ‹ğ˜*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢ ğŸ¤“ á´á´›Êœá´‡Ê€ á´„á´á´…ğŸ¤“ â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*ğŸ¤“ *${prefix}ğ…ğ€ğğ‚ğ˜*
*â”‹*ğŸ¤“ *${prefix}ğ„ğğˆğğ€ğ‘ğ˜*
*â”‹*ğŸ¤“ *${prefix}ğƒğğˆğğ€ğ‘ğ˜*
*â”‹*ğŸ¤“ *${prefix}ğ†ğ„ğ“*
*â”‹*ğŸ¤“ *${prefix}ğ…ğ„ğ“ğ‚ğ‡*
*â”‹*ğŸ¤“ *${prefix}ğ”ğğƒğ€ğ“ğ„ğğğ–*
*â”‹*ğŸ¤“ *${prefix}ğŒğÂ³*
*â”‹*ğŸ¤“ *${prefix}ğ“ğ“ğ’*
*â”‹*ğŸ¤“ *${prefix}ğ’ğ‡ğğ‘ğ“ğ„ğ*
*â”‹*ğŸ¤“ *${prefix}ğ“ğ„ğŒğğŒğ€ğˆğ‹*
*â”‹*ğŸ¤“ *${prefix}ğ‚ğ‡ğ„ğ‚ğŠğŒğ€ğˆğ‹*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢ ğŸ¤“ sá´›á´€ÊŸá´‹á´‡Ê€ á´„á´á´… ğŸ¤“ â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*ğŸ¤“ *${prefix}ğ†ğˆğ“ğ’ğ“ğ€ğ‹ğŠ*
*â”‹*ğŸ¤“ *${prefix}ğ“ğˆğŠğ’ğ“ğ€ğ‹ğŠ*
*â”‹*ğŸ¤“ *${prefix}ğğğŒğ’ğ“ğ€ğ‹ğŠ*
*â”‹*ğŸ¤“ *${prefix}ğğğğˆğğ…ğ*
*â”‹*ğŸ¤“ *${prefix}ğ‹ğğğŠğ”ğ*
*â”‹*ğŸ¤“ *${prefix}ğ–ğ€ğ‚ğ‡ğ€ğğğ„ğ‹*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*[ â€¢ ğŸ¤µÊœá´‡Ê€á´á´‹á´œ á´„ÊŸÉªá´‡É´á´›ğŸ¤µ â€â€¢ ]*
*â•­â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
*â”‹*ğŸ¤µ *${prefix}ğŒğğƒğ„ <ğ™¿ğš„ğ™±ğ™»ğ™¸ğ™²/ğ™¿ğšğ™¸ğš…ğ™°ğšƒğ™´>*
*â”‹*ğŸ¤µ *${prefix}ğğ‘ğ„ğ…ğ„ğ— <ğš‚ğšˆğ™¼ğ™±ğ™¾ğ™»>*
*â”‹*ğŸ¤µ *${prefix}ğ€ğ”ğ“ğğ’ğ•ğˆğ„ğ– <ğ™¾ğ™½/ğ™¾ğ™µğ™µ>*
*â”‹*ğŸ¤µ *${prefix}ğ€ğ”ğ“ğğ‘ğ„ğ€ğ‚ğ“ <ğ™¾ğ™½/ğ™¾ğ™µğ™µ>*
*â”‹*ğŸ¤µ *${prefix}ğ€ğ‹ğ–ğ€ğ˜ğ’ğğğ‹ğˆğğ„ <ğ™¾ğ™½/ğ™¾ğ™µğ™µ>*
*â”‹*ğŸ¤µ *${prefix}ğ€ğ”ğ“ğğ‘ğ„ğ€ğƒ <ğ™¾ğ™½/ğ™¾ğ™µğ™µ>*
*â”‹*ğŸ¤µ *${prefix}ğ€ğ”ğ“ğğğ‹ğğ‚ğŠ <ğ™¾ğ™½/ğ™¾ğ™µğ™µ>*
*â”‹*ğŸ¤µ *${prefix}ğ€ğğ“ğˆğ‚ğ€ğ‹ğ‹ <ğ™¾ğ™½/ğ™¾ğ™µğ™µ>*
*â”‹*ğŸ¤µ *${prefix}ğ€ğ”ğ“ğğ‘ğ„ğ‚ğğ‘ğƒğˆğğ† <ğ™¾ğ™½/ğ™¾ğ™µğ™µ>*
*â”‹*ğŸ¤µ *${prefix}ğ€ğ”ğ“ğğ“ğ˜ğğˆğğ† <ğ™¾ğ™½/ğ™¾ğ™µğ™µ>*
*â•°â”ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â€¢*
ğŸŒ ğ— ğ—¢ğ—¥ğ—˜ ğ—–ğ—¢ğ— ğ— ğ—”ğ—¡ğ——ğ—¦ ğ—–ğ—¢ğ— ğ—œğ—¡ğ—š ğ—¦ğ—¢ğ—¢ğ—¡! ğŸŒ`;

    await m.React('ğŸ¤¡'); // React with a joker icon

    sock.sendMessage(
      m.from,
      {
        text: aliveMessage,
        contextInfo: {
          isForwarded: false,
          forwardedNewsletterMessageInfo: {
            newsletterJid: '@newsletter',
            newsletterName: "Obito-MD",
            serverMessageId: -1,
          },
          forwardingScore: 999, // Score to indicate it has been forwarded
          externalAdReply: {
            title: "âœ¨ Obito-MD âœ¨",
            body: "MY MENU",
            thumbnailUrl: 'https://cdn.ironman.my.id/i/amtivf.jpg', // Add thumbnail URL if required
            sourceUrl: 'https://whatsapp.com/channel/0029Vb8MXtb3GJOqeYi8VF0p', // Add source URL if necessary
            mediaType: 1,
            renderLargerThumbnail: true,
          },
        },
      },
      { quoted: m }
    );
  }
};

export default alive;
